<ik-modal #attendanceScheduleDownloadModal name="attendanceScheduleDownloadModal">
  <ik-modal-header [title]="title" type="info"></ik-modal-header>
  <ik-modal-body>
    <form *ngIf="downloadForm" [formGroup]="downloadForm">
      <ik-form-field header="Start Date*"
        ><input type="date" class="form-input__normal" placeholder="Start Date" formControlName="startDate" />
      </ik-form-field>
      <ik-form-field header="End Date*"
        ><input
          type="date"
          class="form-input__normal"
          placeholder="End Date"
          formControlName="endDate"
          [min]="downloadForm.value.startDate"
        />
      </ik-form-field>
    </form>
  </ik-modal-body>
  <ik-modal-action-bar>
    <button
      class="btn btn-primary btn-right btn-modal"
      (click)="onAttendanceScheduleDownloadClick()"
      [disabled]="downloadForm?.invalid || downloadLoading"
    >
      <ik-icon
        *ngIf="!downloadLoading; else scheduleDownloadLoader"
        icon="circle-down"
        iconPrefix="far"
        classOverride="btn-icon"
      ></ik-icon>
      Download

      <ng-template #scheduleDownloadLoader>
        <ik-icon icon="spinner" classOverride="btn-icon" [spin]="true"></ik-icon>
      </ng-template>
    </button>
    <button class="btn btn-default btn-right btn-modal" (click)="attendanceScheduleDownloadModal.close()">
      Cancel
    </button>
  </ik-modal-action-bar>
</ik-modal>
